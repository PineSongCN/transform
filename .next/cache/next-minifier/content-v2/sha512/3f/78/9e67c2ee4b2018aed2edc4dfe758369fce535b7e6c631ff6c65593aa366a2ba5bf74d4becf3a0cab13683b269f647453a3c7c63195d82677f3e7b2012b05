{"code":"_N_E=(\"object\"!==typeof self?self:this.webpackJsonp_N_E=\"object\"!==typeof self?self:this.webpackJsonp_N_E||[]).push([[90],{\"/blW\":function(t,e,n){\"use strict\";n.r(e),n.d(e,\"default\",(function(){return m}));var r=n(\"nKUr\"),o=n(\"vJKn\"),a=n.n(o),c=n(\"rg98\"),s=n(\"xvhg\"),i=n(\"sN8P\"),u=n(\"3o63\"),p=n(\"xC0i\"),l=n(\"q1tI\"),f=n(\"gqkn\"),b=[{type:u.a.SWITCH,key:\"keepComments\",label:\"Keep TSDoc Comments\"},{type:u.a.SWITCH,key:\"skipParseJSDoc\",label:\"Skip the creation of zod validators from JSDoc annotations\"}];function m(){var t=\"JSON to Zod Schema\",e=Object(p.a)(t,{keepComments:!1,skipParseJSDoc:!1}),n=Object(s.a)(e,2),o=n[0],m=n[1],S=Object(l.useCallback)(function(){var t=Object(c.a)(a.a.mark((function t(e){var n,r,c,s,i,u,p;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.value,r=o.keepComments,c=o.skipParseJSDoc,s=new URLSearchParams({keepComments:r,skipParseJSDoc:c}).toString(),t.next=5,Object(f.a)(\"/api/typescript-to-zod?\".concat(s),n,\"text/plain\");case 5:if(i=t.sent,u=i.schema,!(p=i.error)){t.next=10;break}throw new Error(p);case 10:return t.abrupt(\"return\",u);case 11:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[o]),d=Object(l.useCallback)((function(e){var n=e.open,a=e.toggle;return Object(r.jsx)(u.b,{title:t,onSubmit:m,open:n,toggle:a,formsFields:b,initialValues:o})}),[]);return Object(r.jsx)(i.a,{transformer:S,editorTitle:\"TypeScript\",editorLanguage:\"typescript\",editorDefaultValue:\"typeScriptInterface\",resultTitle:\"Zod Schema\",resultLanguage:\"typescript\",editorSettingsElement:d,settings:o})}},Uhad:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/typescript-to-zod\",function(){return n(\"/blW\")}])},xC0i:function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return c}));var r=n(\"q1tI\"),o=n(\"kiQV\"),a=\"transform:\".concat(o.version,\":\");function c(t,e){return function(t,e){var n=Object(r.useState)((function(){try{var n=window.localStorage.getItem(a+t)||e;return JSON.parse(n)}catch(r){return e}})),o=n[0],c=n[1];return[o,function(e){try{var n=e instanceof Function?e(o):e;c(n),window.localStorage.setItem(a+t,JSON.stringify(n))}catch(r){console.log(r)}}]}(\"settings:\".concat(t),e)}}},[[\"Uhad\",1,2,0,3,5,6,7]]]);","map":{"version":3,"sources":["static/chunks/pages/typescript-to-zod-2dbc8348f72d87045071.js"],"names":["_N_E","self","this","push","/blW","module","__webpack_exports__","__webpack_require__","r","d","TypescriptToZod","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","_Users_songxu_Develop_test_transform_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__","_Users_songxu_Develop_test_transform_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","n","_Users_songxu_Develop_test_transform_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","_Users_songxu_Develop_test_transform_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__","_components_ConversionPanel__WEBPACK_IMPORTED_MODULE_4__","_components_Form__WEBPACK_IMPORTED_MODULE_5__","_hooks_useSettings__WEBPACK_IMPORTED_MODULE_6__","react__WEBPACK_IMPORTED_MODULE_7__","_utils_request__WEBPACK_IMPORTED_MODULE_8__","formFields","type","SWITCH","key","label","name","_useSettings","Object","keepComments","skipParseJSDoc","_useSettings2","settings","setSettings","transformer","_ref2","a","mark","_callee","_ref","value","params","_yield$request","schema","error","wrap","_context","prev","next","URLSearchParams","toString","concat","sent","Error","abrupt","stop","_x","apply","arguments","getSettingsElement","_ref3","open","toggle","title","onSubmit","formsFields","initialValues","editorTitle","editorLanguage","editorDefaultValue","resultTitle","resultLanguage","editorSettingsElement","Uhad","exports","window","__NEXT_P","xC0i","useSettings","react","package_0","prefix","initialValue","_useState","item","localStorage","getItem","JSON","parse","storedValue","setStoredValue","valueToStore","Function","setItem","stringify","console","log","useLocalStorage"],"mappings":"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"},"name":"static/chunks/pages/typescript-to-zod-2dbc8348f72d87045071.js","input":"_N_E =\n(typeof self !== \"object\" ? self : this[\"webpackJsonp_N_E\"] = typeof self !== \"object\" ? self : this[\"webpackJsonp_N_E\"] || []).push([[90],{\n\n/***/ \"/blW\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return TypescriptToZod; });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Users_songxu_Develop_test_transform_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"vJKn\");\n/* harmony import */ var _Users_songxu_Develop_test_transform_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_Users_songxu_Develop_test_transform_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Users_songxu_Develop_test_transform_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"rg98\");\n/* harmony import */ var _Users_songxu_Develop_test_transform_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"xvhg\");\n/* harmony import */ var _components_ConversionPanel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"sN8P\");\n/* harmony import */ var _components_Form__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"3o63\");\n/* harmony import */ var _hooks_useSettings__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"xC0i\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _utils_request__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"gqkn\");\n\n\n\n\n\n\n\n\n\n\nvar formFields = [{\n  type: _components_Form__WEBPACK_IMPORTED_MODULE_5__[/* InputType */ \"a\"].SWITCH,\n  key: \"keepComments\",\n  label: \"Keep TSDoc Comments\"\n}, {\n  type: _components_Form__WEBPACK_IMPORTED_MODULE_5__[/* InputType */ \"a\"].SWITCH,\n  key: \"skipParseJSDoc\",\n  label: \"Skip the creation of zod validators from JSDoc annotations\"\n}];\nfunction TypescriptToZod() {\n  var name = \"JSON to Zod Schema\";\n\n  var _useSettings = Object(_hooks_useSettings__WEBPACK_IMPORTED_MODULE_6__[/* useSettings */ \"a\"])(name, {\n    keepComments: false,\n    skipParseJSDoc: false\n  }),\n      _useSettings2 = Object(_Users_songxu_Develop_test_transform_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_useSettings, 2),\n      settings = _useSettings2[0],\n      setSettings = _useSettings2[1];\n\n  var transformer = Object(react__WEBPACK_IMPORTED_MODULE_7__[\"useCallback\"])( /*#__PURE__*/function () {\n    var _ref2 = Object(_Users_songxu_Develop_test_transform_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])( /*#__PURE__*/_Users_songxu_Develop_test_transform_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(_ref) {\n      var value, keepComments, skipParseJSDoc, params, _yield$request, schema, error;\n\n      return _Users_songxu_Develop_test_transform_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              value = _ref.value;\n              keepComments = settings.keepComments, skipParseJSDoc = settings.skipParseJSDoc;\n              params = new URLSearchParams({\n                keepComments: keepComments,\n                skipParseJSDoc: skipParseJSDoc\n              }).toString();\n              _context.next = 5;\n              return Object(_utils_request__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"])(\"/api/typescript-to-zod?\".concat(params), value, \"text/plain\");\n\n            case 5:\n              _yield$request = _context.sent;\n              schema = _yield$request.schema;\n              error = _yield$request.error;\n\n              if (!error) {\n                _context.next = 10;\n                break;\n              }\n\n              throw new Error(error);\n\n            case 10:\n              return _context.abrupt(\"return\", schema);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }(), [settings]);\n  var getSettingsElement = Object(react__WEBPACK_IMPORTED_MODULE_7__[\"useCallback\"])(function (_ref3) {\n    var open = _ref3.open,\n        toggle = _ref3.toggle;\n    return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components_Form__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"b\"], {\n      title: name,\n      onSubmit: setSettings,\n      open: open,\n      toggle: toggle,\n      formsFields: formFields,\n      initialValues: settings\n    });\n  }, []);\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components_ConversionPanel__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], {\n    transformer: transformer,\n    editorTitle: \"TypeScript\",\n    editorLanguage: \"typescript\",\n    editorDefaultValue: \"typeScriptInterface\",\n    resultTitle: \"Zod Schema\",\n    resultLanguage: \"typescript\",\n    editorSettingsElement: getSettingsElement,\n    settings: settings\n  });\n}\n\n/***/ }),\n\n/***/ \"Uhad\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/typescript-to-zod\",\n      function () {\n        return __webpack_require__(\"/blW\");\n      }\n    ]);\n  \n\n/***/ }),\n\n/***/ \"xC0i\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"a\", function() { return /* binding */ useSettings; });\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\n\n// EXTERNAL MODULE: ./package.json\nvar package_0 = __webpack_require__(\"kiQV\");\n\n// CONCATENATED MODULE: ./hooks/useLocalStorage.ts\n\n\nvar prefix = \"transform:\".concat(package_0[\"version\"], \":\");\nfunction useLocalStorage(key, initialValue) {\n  // State to store our value\n  // Pass initial state function to useState so logic is only executed once\n  var _useState = Object(react[\"useState\"])(function () {\n    try {\n      // Get from local storage by key\n      var item =  true ? window.localStorage.getItem(prefix + key) || initialValue : undefined; // Parse stored json or if none return initialValue\n\n      return JSON.parse(item);\n    } catch (error) {\n      // If error also return initialValue\n      return initialValue;\n    }\n  }),\n      storedValue = _useState[0],\n      setStoredValue = _useState[1]; // Return a wrapped version of useState's setter function that ...\n  // ... persists the new value to sessionStorage.\n\n\n  var setValue = function setValue(value) {\n    try {\n      // Allow value to be a function so we have same API as useState\n      var valueToStore = value instanceof Function ? value(storedValue) : value; // Save state\n\n      setStoredValue(valueToStore); // Save to local storage\n\n      if (true) window.localStorage.setItem(prefix + key, JSON.stringify(valueToStore));\n    } catch (error) {\n      // A more advanced implementation would handle the error case\n      console.log(error);\n    }\n  };\n\n  return [storedValue, setValue];\n}\n// CONCATENATED MODULE: ./hooks/useSettings.ts\n\nfunction useSettings(name, initialValue) {\n  return useLocalStorage(\"settings:\".concat(name), initialValue);\n}\n\n/***/ })\n\n},[[\"Uhad\",1,2,0,3,5,6,7]]]);","inputSourceMap":{"version":3,"sources":["/Users/songxu/Develop/test/transform/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--5!/Users/songxu/Develop/test/transform/pages/typescript-to-zod.tsx","/Users/songxu/Develop/test/transform/node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?page=%2Ftypescript-to-zod&absolutePagePath=private-next-pages%2Ftypescript-to-zod.tsx!","/Users/songxu/Develop/test/transform/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--5!/Users/songxu/Develop/test/transform/hooks/useLocalStorage.ts","/Users/songxu/Develop/test/transform/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--5!/Users/songxu/Develop/test/transform/hooks/useSettings.ts"],"names":[],"mappings":";;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgD;AACiF;AACe;AACN;AAChF;AACP;AACF;AAClB;AACK;AACC;AACrC;AACA,QAAQ,kEAAS;AACjB;AACA;AACA,CAAC;AACD,QAAQ,kEAAS;AACjB;AACA;AACA,CAAC;AACc;AACf;;AAEA,qBAAqB,8EAAW;AAChC;AACA;AACA,GAAG;AACH,sBAAsB,mKAAc;AACpC;AACA;;AAEA,oBAAoB,yDAAW;AAC/B,gBAAgB,sKAAiB,eAAe,oIAAmB;AACnE;;AAEA,aAAa,oIAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA,qBAAqB,sEAAO;;AAE5B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA,GAAG;AACH,2BAA2B,yDAAW;AACtC;AACA;AACA,wBAAwB,6DAAI,CAAC,gEAAI;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH,sBAAsB,6DAAI,CAAC,2EAAe;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,C;;;;;;;;AC/FA;AACA;AACA;AACA,eAAe,mBAAO,CAAC,MAA0C;AACjE;AACA;;;;;;;;;;;;;;;;;;;;ACNiC;AACS;AAC1C,iCAAiC,oBAAO;AACjC;AACP;AACA;AACA,kBAAkB,yBAAQ;AAC1B;AACA;AACA,iBAAiB,KAAU,+DAA+D,SAAY,CAAC;;AAEvG;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA,oCAAoC;AACpC;;;AAGA;AACA;AACA;AACA,gFAAgF;;AAEhF,mCAAmC;;AAEnC,UAAU,IAAU;AACpB,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,C;;ACrCyD;AAClD;AACP,SAAS,eAAe;AACxB,C","file":"x","sourcesContent":["import { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"/Users/songxu/Develop/test/transform/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/songxu/Develop/test/transform/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/songxu/Develop/test/transform/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport ConversionPanel from \"@components/ConversionPanel\";\nimport Form, { InputType } from \"@components/Form\";\nimport { useSettings } from \"@hooks/useSettings\";\nimport * as React from \"react\";\nimport { useCallback } from \"react\";\nimport request from \"@utils/request\";\nvar formFields = [{\n  type: InputType.SWITCH,\n  key: \"keepComments\",\n  label: \"Keep TSDoc Comments\"\n}, {\n  type: InputType.SWITCH,\n  key: \"skipParseJSDoc\",\n  label: \"Skip the creation of zod validators from JSDoc annotations\"\n}];\nexport default function TypescriptToZod() {\n  var name = \"JSON to Zod Schema\";\n\n  var _useSettings = useSettings(name, {\n    keepComments: false,\n    skipParseJSDoc: false\n  }),\n      _useSettings2 = _slicedToArray(_useSettings, 2),\n      settings = _useSettings2[0],\n      setSettings = _useSettings2[1];\n\n  var transformer = useCallback( /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref) {\n      var value, keepComments, skipParseJSDoc, params, _yield$request, schema, error;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              value = _ref.value;\n              keepComments = settings.keepComments, skipParseJSDoc = settings.skipParseJSDoc;\n              params = new URLSearchParams({\n                keepComments: keepComments,\n                skipParseJSDoc: skipParseJSDoc\n              }).toString();\n              _context.next = 5;\n              return request(\"/api/typescript-to-zod?\".concat(params), value, \"text/plain\");\n\n            case 5:\n              _yield$request = _context.sent;\n              schema = _yield$request.schema;\n              error = _yield$request.error;\n\n              if (!error) {\n                _context.next = 10;\n                break;\n              }\n\n              throw new Error(error);\n\n            case 10:\n              return _context.abrupt(\"return\", schema);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }(), [settings]);\n  var getSettingsElement = useCallback(function (_ref3) {\n    var open = _ref3.open,\n        toggle = _ref3.toggle;\n    return /*#__PURE__*/_jsx(Form, {\n      title: name,\n      onSubmit: setSettings,\n      open: open,\n      toggle: toggle,\n      formsFields: formFields,\n      initialValues: settings\n    });\n  }, []);\n  return /*#__PURE__*/_jsx(ConversionPanel, {\n    transformer: transformer,\n    editorTitle: \"TypeScript\",\n    editorLanguage: \"typescript\",\n    editorDefaultValue: \"typeScriptInterface\",\n    resultTitle: \"Zod Schema\",\n    resultLanguage: \"typescript\",\n    editorSettingsElement: getSettingsElement,\n    settings: settings\n  });\n}","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/typescript-to-zod\",\n      function () {\n        return require(\"private-next-pages/typescript-to-zod.tsx\");\n      }\n    ]);\n  ","import { useState } from \"react\";\nimport { version } from \"../package.json\";\nvar prefix = \"transform:\".concat(version, \":\");\nexport function useLocalStorage(key, initialValue) {\n  // State to store our value\n  // Pass initial state function to useState so logic is only executed once\n  var _useState = useState(function () {\n    try {\n      // Get from local storage by key\n      var item = IN_BROWSER ? window.localStorage.getItem(prefix + key) || initialValue : initialValue; // Parse stored json or if none return initialValue\n\n      return JSON.parse(item);\n    } catch (error) {\n      // If error also return initialValue\n      return initialValue;\n    }\n  }),\n      storedValue = _useState[0],\n      setStoredValue = _useState[1]; // Return a wrapped version of useState's setter function that ...\n  // ... persists the new value to sessionStorage.\n\n\n  var setValue = function setValue(value) {\n    try {\n      // Allow value to be a function so we have same API as useState\n      var valueToStore = value instanceof Function ? value(storedValue) : value; // Save state\n\n      setStoredValue(valueToStore); // Save to local storage\n\n      if (IN_BROWSER) window.localStorage.setItem(prefix + key, JSON.stringify(valueToStore));\n    } catch (error) {\n      // A more advanced implementation would handle the error case\n      console.log(error);\n    }\n  };\n\n  return [storedValue, setValue];\n}","import { useLocalStorage } from \"@hooks/useLocalStorage\";\nexport function useSettings(name, initialValue) {\n  return useLocalStorage(\"settings:\".concat(name), initialValue);\n}"]}}