{"code":"_N_E=(\"object\"!==typeof self?self:this.webpackJsonp_N_E=\"object\"!==typeof self?self:this.webpackJsonp_N_E||[]).push([[65],{\"1fYD\":function(e,t,r){e.exports=function(){var e=function(){var e=[Object,Function,Array,String,Boolean,Number,Date,RegExp,Error],t=e.length;return function(r){for(var n=0;n<t;n++)if(e[n]===r)return!0;return!1}}(),t=function(){var t={}.toString;return function(n){var i=t.call(n).slice(8,-1);if(null===n||void 0===n)return i.toLowerCase();var a=r(n);return a&&!e(a)?a.name:i}}();function r(e){return null===e||void 0===e?e:e.constructor}function n(e,n){return(r(n)===String?t:r)(e)===n}function i(e,t){return e instanceof t}function a(e,t){return i(e.prototype,t)}function o(e,t){if(!n(t,Array))throw\"Second argument to .any() should be array\";for(var r=0;r<t.length;r++)if(n(e,t[r]))return!0;return!1}var s=function(e,t){return 1==arguments.length?r(e):n(t,Array)?o(e,t):n(e,t)};return s.instance=i,s.string=t,s.of=r,s.is=n,s.any=o,s.extension=a,s}()},Aeof:function(e,t,r){\"use strict\";r.r(t),r.d(t,\"default\",(function(){return c}));var n=r(\"nKUr\"),i=r(\"vJKn\"),a=r.n(i),o=r(\"rg98\"),s=r(\"sN8P\"),u=r(\"q1tI\"),p=r(\"JeW5\"),f=r.n(p);function c(){var e=Object(u.useCallback)(function(){var e=Object(o.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.value,e.abrupt(\"return\",JSON.stringify(f.a.mongoose(JSON.parse(r)),null,2));case 2:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(n.jsx)(s.a,{transformer:e,editorTitle:\"JSON\",editorLanguage:\"json\",resultTitle:\"Mongoose Schema\",resultLanguage:\"json\"})}},\"Aw/l\":function(e,t,r){var n=r(\"1fYD\"),i=r(\"rL1p\"),a={boolean:\"String\",string:\"String\",number:\"Int32\",date:\"Date\",timestamp:\"DateTime\",object:\"Nested\",regexp:\"String\",undefined:\"String\",null:\"String\"},o=function(e){return[\"CREATE TABLE \",e,\" (\"].join(\"\")},s=function(e,t){return t?[\") ENGINE = MergeTree(\",t,\", (\",e,\", \",t,\"), 8192);\"].join(\"\"):[\") ENGINE = Memory;\"].join(\"\")},u=function(e,t){return[\"  \",e,\" \",t,\",\"].join(\"\")};function p(e,t,r){var f,c,l,m,y=t.tableName,b=t.parentTableName,d=t.parentTableId,g=t.parentTableIdType,T=Object.keys(e),h=[],j=[],N=null,v=\"string\";h.push(o(y)),b&&h.push(u(b+\"_\"+d,a[g]));for(var E=0;E<T.length;E++)(\"id\"===T[E].toLowerCase()||T[E].toLowerCase().indexOf(\"_id\")>-1)&&(e[f=T[E]]=e[T[E]],T[E]=f,N=T[E],v=typeof e[T[E]]);N||(N=\"id\",v=g||v,h.push(u(N,a[v])));for(E=0;E<T.length;E++){if(\"date\"==(m=(l=e[c=T[E]])instanceof Date?\"date\":n.string(l).toLowerCase())&&!r)r=c;if(\"undefined\"!==m&&(m=i.isTimestamp(l)?\"timestamp\":m),\"function\"!==m)if(\"object\"!==m||l.length)if(\"object\"!==m&&\"array\"!==m)h.push(u(c,a[m]));else{if(\"object\"===typeof l[0]){j.push(\"\"),j.push(p(l[0],{parentTableName:y,parentTableId:N,parentTableIdType:v,tableName:y+\"_\"+c}).join(\"\"));continue}j.push(\"\"),j.push(p({value:typeof l[0]},{parentTableName:y,parentTableId:N,parentTableIdType:v,tableName:y+\"_\"+c}).join(\"\"))}else j.push(\"\"),j.push(p(l,{parentTableName:y,parentTableId:N,parentTableIdType:v,tableName:y+\"_\"+c}).join(\"\"))}return h[h.length-1]=i.arrayLastItem(h).substr(0,i.arrayLastItem(h).length-1),h.push(s(N,r)),h.concat(j)}e.exports=function(e,t,r){return\"string\"!==typeof e&&(t=e,e=\"generic\"),r||(r=null),p(t,{tableName:e},r).join(\"\")}},IYS3:function(e,t,r){var n=r(\"rL1p\");function i(e){return Array.isArray(e)?\"REPEATED\":\"NULLABLE\"}function a(e){if(Array.isArray(e))return a(e[0]);if(e instanceof Date)return\"TIMESTAMP\";if(\"object\"===typeof e)return\"RECORD\";if(\"boolean\"===typeof e)return\"BOOLEAN\";if(\"string\"===typeof e){if(n.isDateString(e))return\"DATE\";if(n.isTimestamp(e))return\"TIMESTAMP\"}return isNaN(e)?\"STRING\":Number.isInteger(parseFloat(e))?\"INTEGER\":\"FLOAT\"}function o(e){return Object.keys(e).map((function(t){var r=e[t],n={name:t,type:a(e[t]),mode:i(e[t])};return\"RECORD\"===n.type&&(n.fields=o(\"REPEATED\"===n.mode?r[0]:r)),n}))}e.exports=function(e){return o(e)}},JeW5:function(e,t,r){t.generic=r(\"NekS\"),t.mongoose=r(\"yhns\"),t.bigquery=r(\"IYS3\"),t.mysql=r(\"TQoY\"),t.json=r(\"TR5Q\"),t.clickhouse=r(\"Aw/l\")},NekS:function(e,t,r){var n=r(\"1fYD\"),i=r(\"rL1p\");e.exports=function e(t,r){for(var a in r=r||{},t){var o=t[a],s=n.string(o).toLowerCase();\"undefined\"===s&&(s=\"null\"),\"string\"===s&&i.isDate(o)&&(s=\"date\"),\"object\"!==s?r[a]={type:s}:(r[a]=e(t[a]),r[a].type=s)}return r}},TQoY:function(e,t,r){var n=r(\"1fYD\"),i=r(\"rL1p\"),a={boolean:\"BOOLEAN\",string:\"TEXT\",number:\"INT\",date:\"DATE\",timestamp:\"TIMESTAMP\",regexp:\"TEXT\",undefined:\"TEXT\",null:\"TEXT\"},o=function(e){return[\"CREATE TABLE \",e,\" (\"].join(\"\")},s=function(){return\");\"},u=function(e,t){return[\"  \",e,\" \",t,\",\"].join(\"\")},p=function(e){return[\"  PRIMARY KEY (\",e,\"),\"].join(\"\")},f=function(e,t,r){return[\"  FOREIGN KEY (\",e,\") REFERENCES \",t,\"(\",r,\"),\"].join(\"\")};function c(e,t){var r,l,m,y,b=t.tableName,d=t.parentTableName,g=t.parentTableId,T=t.parentTableIdType,h=Object.keys(e),j=[],N=[],v=null,E=\"string\";j.push(o(b)),d&&j.push(u(d+\"_\"+g,a[T]));for(var I=0;I<h.length;I++)(\"id\"===h[I].toLowerCase()||h[I].toLowerCase().indexOf(\"_id\")>-1)&&(e[r=h[I]]=e[h[I]],h[I]=r,v=h[I],E=typeof e[h[I]]);v||(v=\"id\",E=T||E,j.push(u(v,a[E])));for(I=0;I<h.length;I++)if(\"undefined\"!==(y=(m=e[l=h[I]])instanceof Date?\"date\":n.string(m).toLowerCase())&&(y=i.isTimestamp(m)?\"timestamp\":y),\"function\"!==y)if(\"object\"!==y||m.length)if(\"object\"!==y&&\"array\"!==y)j.push(u(l,a[y]));else{if(\"object\"===typeof m[0]){N.push(\"\"),N.push(c(m[0],{parentTableName:b,parentTableId:v,parentTableIdType:E,tableName:b+\"_\"+l}).join(\"\\n\"));continue}N.push(\"\"),N.push(c({value:typeof m[0]},{parentTableName:b,parentTableId:v,parentTableIdType:E,tableName:b+\"_\"+l}).join(\"\\n\"))}else N.push(\"\"),N.push(c(m,{parentTableName:b,parentTableId:v,parentTableIdType:E,tableName:b+\"_\"+l}).join(\"\\n\"));return j.push(p(v)),d&&j.push(f(d+\"_id\",d,g)),j[j.length-1]=i.arrayLastItem(j).substr(0,i.arrayLastItem(j).length-1),j.push(s()),j.concat(N)}e.exports=function(e,t){return\"string\"!==typeof e&&(t=e,e=\"generic\"),c(t,{tableName:e}).join(\"\\n\")}},TR5Q:function(e,t,r){var n=r(\"1fYD\");function i(e){return\"date\"===n.string(e).toLowerCase()?\"date-time\":null}function a(e){var t=n.string(e).toLowerCase();return\"date\"===t||\"regexp\"===t||\"function\"===t?\"string\":t}function o(e,t,r){var n,i,a;e=Object.keys(e),r=r||[];for(var o=0,s=(t=Object.keys(t)).length;o<s;o++)n=t[o],a=e.indexOf(n),i=r.indexOf(n),-1===a?-1!==i&&r.splice(i,1):-1===i&&r.push(n);return r}function s(e,t,r){var p,f,c;r&&t?t={items:t}:((t=t||{}).type=a(e),t.items=t.items||{},c=t.items.type||null);for(var l=0,m=e.length;l<m;l++){var y=a(e[l]),b=i(e[l]);if(c&&y!==c){t.items.oneOf=[],f=!0;break}c=y,p=b}if(!f&&c?(t.items.type=c,p&&(t.items.format=p)):f&&\"object\"!==c&&(t.items={oneOf:[{type:c}],required:t.items.required}),\"undefined\"!==typeof t.items.oneOf||\"object\"===c)for(var d=0,g=e.length;d<g;d++){var T,h=e[d],j=a(h),N=i(h);if(\"object\"===j?(t.items.properties&&(t.items.required=o(t.items.properties,h,t.items.required)),T=u(h,f?{}:t.items.properties,!0)):\"array\"===j?T=s(h,f?{}:t.items.properties,!0):((T={}).type=j,N&&(T.format=N)),f){var v=n.string(h).toLowerCase(),E={};T.type||\"object\"!==v||(E.properties=T,E.type=\"object\",T=E),t.items.oneOf.push(T)}else{if(\"object\"!==t.items.type)continue;t.items.properties=T}}return r?t.items:t}function u(e,t,r){for(var n in r&&t?t={properties:t}:((t=t||{}).type=a(e),t.properties=t.properties||{}),e){var o=e[n],p=a(o),f=i(o);if(\"object\"!==(p=\"undefined\"===p?\"null\":p))if(\"array\"!==p)if(t.properties[n]){var c=t.properties[n],l=Array.isArray(c.type);l&&c.type.indexOf(p)<0&&c.type.push(p),l||c.type===p||(c.type=[c.type,p])}else t.properties[n]={},t.properties[n].type=p,f&&(t.properties[n].format=f);else t.properties[n]=s(o,t.properties[n]);else t.properties[n]=u(o,t.properties[n])}return r?t.properties:t}e.exports=function(e,t){var r,i={$schema:\"http://json-schema.org/draft-04/schema#\"};return\"string\"!==typeof e?(t=e,e=void 0):i.title=e,i.type=n.string(t).toLowerCase(),\"object\"===i.type&&(r=u(t),i.type=r.type,i.properties=r.properties),\"array\"===i.type&&(r=s(t),i.type=r.type,i.items=r.items,i.title&&(i.items.title=i.title,i.title+=\" Set\")),i}},qZ3r:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/json-to-mongoose\",function(){return r(\"Aeof\")}])},rL1p:function(e,t){var r=/\\d{4}-\\d{2}-\\d{2}/;t.isNumber=function(e){return\"number\"===typeof e||\"[object Number]\"===Object.prototype.toString.call(e)},t.isDate=function(e){return\"Invalid Date\"!==new Date(e).toString()&&!isNaN(new Date(e))},t.isTimestamp=function(e){return e.length>18&&!isNaN(new Date(e).getTime())},t.isDateString=function(e){return e.match(r)},t.arrayLastItem=function(e){return e[e.length-1]}},yhns:function(e,t,r){(function(t){var n=r(\"1fYD\"),i=r(\"rL1p\");function a(e){switch(e){case\"array\":return\"Array\";case\"buffer\":return\"Buffer\";case\"boolean\":return\"Boolean\";case\"date\":return\"Date\";case\"number\":return\"Number\";case\"string\":return\"String\";case\"objectid\":return\"ObjectId\";case\"null\":case\"undefined\":case\"regexp\":default:return\"Mixed\"}}e.exports=function e(r,o){o=o||{};for(var s in r){var u=r[s],p=null,f=null,c=null;if(u instanceof t&&(c=\"buffer\"),null!=u&&\"undefined\"!==typeof u.toString&&u.toString().match(/^[0-9a-fA-F]{24}$/)&&(c=\"objectid\"),c||(c=n.string(u).toLowerCase()),\"string\"===c&&i.isDate(u)&&(c=\"date\"),\"object\"===c)o[s]=e(r[s]);else{if(\"undefined\"===c&&(c=\"null\"),\"array\"===c&&u.length){p=c,c=void 0;for(var l=0,m=u.length;l<m;l++){if(f=n.string(u[l]).toLowerCase(),c&&f!==c){c=\"mixed\";break}c=f}}o[s]=p&&\"array\"===p?{type:[a(c)]}:{type:a(c)}}}return o}}).call(this,r(\"HDXh\").Buffer)}},[[\"qZ3r\",1,2,0,3,4]]]);","map":{"version":3,"sources":["static/chunks/pages/json-to-mongoose-7e02bfc963ec0127c82d.js"],"names":["_N_E","self","this","push","1fYD","module","exports","__webpack_require__","isBuiltIn","built_ins","Object","Function","Array","String","Boolean","Number","Date","RegExp","Error","built_ins_length","length","_constructor","i","stringType","_toString","toString","obj","stype","call","slice","undefined","toLowerCase","ctype","of","name","constructor","is","test","instance","extension","_Extension","_Base","prototype","any","tests","type","arguments","string","factory","Aeof","__webpack_exports__","r","d","JsonToMongoose","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","_Users_songxu_Develop_test_transform_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__","_Users_songxu_Develop_test_transform_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","n","_Users_songxu_Develop_test_transform_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","_components_ConversionPanel__WEBPACK_IMPORTED_MODULE_3__","react__WEBPACK_IMPORTED_MODULE_4__","generate_schema__WEBPACK_IMPORTED_MODULE_5__","generate_schema__WEBPACK_IMPORTED_MODULE_5___default","transformer","_ref2","a","mark","_callee","_ref","value","wrap","_context","prev","next","abrupt","JSON","stringify","mongoose","parse","stop","_x","apply","editorTitle","editorLanguage","resultTitle","resultLanguage","Aw/l","Type","Utils","types","boolean","number","date","timestamp","object","regexp","null","lang","join","id","dateField","processObject","options","nkey","key","tableName","parent","parentTableName","parentId","parentTableId","parentIdType","parentTableIdType","keys","output","tables","idType","indexOf","isTimestamp","arrayLastItem","substr","concat","IYS3","utils","getPropertyMode","isArray","getPropertyType","isDateString","isNaN","isInteger","parseFloat","processFields","data","map","entry","mode","fields","JeW5","generic","bigquery","mysql","json","clickhouse","NekS","Process","isDate","TQoY","key1","table","key2","TR5Q","getPropertyFormat","getUniqueKeys","b","c","cIndex","aIndex","keyIndex","keyLength","splice","processArray","array","nested","format","oneOf","items","arrIndex","arrLength","elementType","elementFormat","required","itemIndex","itemLength","arrayItem","itemType","itemFormat","properties","childType","tempObj","hasTypeArray","title","processOutput","$schema","qZ3r","window","__NEXT_P","rL1p","DATE_REGEXP","isNumber","getTime","match","arr","yhns","Buffer","getNativeType","originalType","index"],"mappings":"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"},"name":"static/chunks/pages/json-to-mongoose-7e02bfc963ec0127c82d.js","input":"_N_E =\n(typeof self !== \"object\" ? self : this[\"webpackJsonp_N_E\"] = typeof self !== \"object\" ? self : this[\"webpackJsonp_N_E\"] || []).push([[65],{\n\n/***/ \"1fYD\":\n/***/ (function(module, exports, __webpack_require__) {\n\n(function (factory) {\n  if (true) {\n    module.exports = factory();\n  } else {}\n}(function () {\n\n  var isBuiltIn = (function () {\n    var built_ins = [\n      Object,\n      Function,\n      Array,\n      String,\n      Boolean,\n      Number,\n      Date,\n      RegExp,\n      Error\n    ];\n    var built_ins_length = built_ins.length;\n\n    return function (_constructor) {\n      for (var i = 0; i < built_ins_length; i++) {\n        if (built_ins[i] === _constructor) {\n          return true;\n        }\n      }\n      return false;\n    };\n  })();\n\n  var stringType = (function () {\n    var _toString = ({}).toString;\n\n    return function (obj) {\n      // [object Blah] -> Blah\n      var stype = _toString.call(obj).slice(8, -1);\n\n      if ((obj === null) || (obj === undefined)) {\n        return stype.toLowerCase();\n      }\n\n      var ctype = of(obj);\n\n      if (ctype && !isBuiltIn(ctype)) {\n        return ctype.name;\n      } else {\n        return stype;\n      }\n    };\n  })();\n\n  function of (obj) {\n    if ((obj === null) || (obj === undefined)) {\n      return obj;\n    } else {\n      return obj.constructor;\n    }\n  }\n\n  function is (obj, test) {\n    var typer = (of(test) === String) ? stringType : of;\n    return (typer(obj) === test);\n  }\n\n  function instance (obj, test) {\n    return (obj instanceof test);\n  }\n\n  function extension (_Extension, _Base) {\n    return instance(_Extension.prototype, _Base);\n  }\n\n  function any (obj, tests) {\n    if (!is(tests, Array)) {\n      throw (\"Second argument to .any() should be array\")\n    }\n    for (var i = 0; i < tests.length; i++) {\n      var test = tests[i];\n      if (is(obj, test)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  var exports = function (obj, type) {\n    if (arguments.length == 1) {\n      return of(obj);\n    } else {\n      if (is(type, Array)) {\n        return any(obj, type);\n      } else {\n        return is(obj, type);\n      }\n    }\n  }\n\n  exports.instance  = instance;\n  exports.string    = stringType;\n  exports.of        = of;\n  exports.is        = is;\n  exports.any       = any;\n  exports.extension = extension;\n  return exports;\n\n}));\n\n\n/***/ }),\n\n/***/ \"Aeof\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return JsonToMongoose; });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Users_songxu_Develop_test_transform_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"vJKn\");\n/* harmony import */ var _Users_songxu_Develop_test_transform_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_Users_songxu_Develop_test_transform_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Users_songxu_Develop_test_transform_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"rg98\");\n/* harmony import */ var _components_ConversionPanel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"sN8P\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var generate_schema__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"JeW5\");\n/* harmony import */ var generate_schema__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(generate_schema__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\n\n\nfunction JsonToMongoose() {\n  var transformer = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useCallback\"])( /*#__PURE__*/function () {\n    var _ref2 = Object(_Users_songxu_Develop_test_transform_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])( /*#__PURE__*/_Users_songxu_Develop_test_transform_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(_ref) {\n      var value;\n      return _Users_songxu_Develop_test_transform_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              value = _ref.value;\n              return _context.abrupt(\"return\", JSON.stringify(generate_schema__WEBPACK_IMPORTED_MODULE_5___default.a.mongoose(JSON.parse(value)), null, 2));\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }(), []);\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components_ConversionPanel__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"], {\n    transformer: transformer,\n    editorTitle: \"JSON\",\n    editorLanguage: \"json\",\n    resultTitle: \"Mongoose Schema\",\n    resultLanguage: \"json\"\n  });\n}\n\n/***/ }),\n\n/***/ \"Aw/l\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// Modules\nvar Type = __webpack_require__(\"1fYD\")\nvar Utils = __webpack_require__(\"rL1p\")\n\n// Type Mapping for Clickhouse\nvar types = {\n  boolean: 'String',\n  string: 'String',\n  number: 'Int32',\n  date: 'Date',\n  timestamp: 'DateTime',\n  object: 'Nested',\n  'regexp': 'String',\n  'undefined': 'String',\n  'null': 'String'\n}\n\nvar lang = {\n  create: function (name) {\n    return ['CREATE TABLE ', name, ' ('].join('')\n  },\n\n  close: function (id, dateField) {\n    if (!dateField) return [') ENGINE = Memory;'].join('')\n    else return [') ENGINE = MergeTree(', dateField, ', (', id, ', ', dateField, '), 8192);'].join('')\n  },\n\n  id: function (name, value) {\n    return ['  ', name, '_id ', value, ','].join('')\n  },\n\n  property: function (name, value) {\n    return ['  ', name, ' ', value, ','].join('')\n  },\n\n}\n\nfunction processObject (obj, options, dateField) {\n  var name = options.tableName\n  var parent = options.parentTableName\n  var parentId = options.parentTableId\n  var parentIdType = options.parentTableIdType\n\n  // In-memory storage\n  var keys = Object.keys(obj)\n  var output = []\n  var tables = []\n\n  // Table variables\n  var id = null\n  var idType = 'string'\n\n  // Initialize Table\n  output.push(lang.create(name))\n\n  if (parent) {\n    output.push(lang.property(parent + '_' + parentId, types[parentIdType]))\n  }\n\n  // Obtain ID\n  var nkey\n  for (var i = 0; i < keys.length; i++) {\n    if (keys[i].toLowerCase() === 'id' || keys[i].toLowerCase().indexOf('_id') > -1) {\n      nkey = keys[i]\n      obj[nkey] = obj[keys[i]]\n      keys[i] = nkey\n      id = keys[i]\n      idType = typeof obj[keys[i]]\n    }\n  }\n\n  if (!id) {\n    id = 'id'\n    idType = parentIdType || idType\n    output.push(lang.property(id, types[idType]))\n  }\n\n  // Create table properties\n  var key, value, type\n  for (var i = 0; i < keys.length; i++) {\n    key = keys[i]\n    value = obj[key]\n    type = value instanceof Date\n      ? 'date'\n      : Type.string(value).toLowerCase()\n\n    if (type == 'date' && !dateField) {\n\tvar dateField = key;\n    }\n\n    if (type !== 'undefined') {\n      type = Utils.isTimestamp(value) ? 'timestamp' : type\n    }\n\n    if (type === 'function') {\n      continue\n    }\n\n    // pojo\n    if (type === 'object' && !value.length) {\n      tables.push('')\n      tables.push(processObject(value, {\n        parentTableName: name,\n        parentTableId: id,\n        parentTableIdType: idType,\n        tableName: name + '_' + key\n      }).join(''))\n      continue\n    }\n\n    // array\n    if (type === 'object' || type === 'array') {\n      if (typeof value[0] === 'object') {\n        tables.push('')\n        tables.push(processObject(value[0], {\n          parentTableName: name,\n          parentTableId: id,\n          parentTableIdType: idType,\n          tableName: name + '_' + key\n        }).join(''))\n        continue\n      }\n\n      tables.push('')\n      tables.push(processObject({\n        value: typeof value[0]\n      }, {\n        parentTableName: name,\n        parentTableId: id,\n        parentTableIdType: idType,\n        tableName: name + '_' + key\n      }).join(''))\n\n      continue\n    }\n\n    output.push(lang.property(key, types[type]))\n  }\n\n  output[output.length - 1] = Utils.arrayLastItem(output)\n    .substr(0, Utils.arrayLastItem(output).length - 1)\n\n  output.push(lang.close(id, dateField))\n\n  return output.concat(tables)\n}\n\nmodule.exports = function Process (tableName, object, dateField) {\n  if (typeof tableName !== 'string') {\n    object = tableName\n    tableName = 'generic'\n  }\n  if (!dateField)\n    dateField = null\n\n  return processObject(object, {\n    tableName: tableName\n  }, dateField).join('')\n}\n\n\n/***/ }),\n\n/***/ \"IYS3\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar utils = __webpack_require__(\"rL1p\")\n\nfunction getPropertyMode (value) {\n  return Array.isArray(value) ? 'REPEATED' : 'NULLABLE'\n}\n\nfunction getPropertyType (value) {\n  if (Array.isArray(value)) {\n    return getPropertyType(value[0])\n  }\n\n  if (value instanceof Date) return 'TIMESTAMP'\n  if (typeof value === 'object') return 'RECORD'\n  if (typeof value === 'boolean') return 'BOOLEAN'\n  if (typeof value === 'string') {\n    if (utils.isDateString(value)) return 'DATE'\n    if (utils.isTimestamp(value)) return 'TIMESTAMP'\n  }\n\n  if (!isNaN(value)) {\n    return Number.isInteger(parseFloat(value)) ? 'INTEGER' : 'FLOAT'\n  }\n\n  return 'STRING'\n}\n\nfunction processFields (data) {\n  return Object.keys(data).map(function (key) {\n    var value = data[key]\n    var entry = {\n      name: key,\n      type: getPropertyType(data[key]),\n      mode: getPropertyMode(data[key])\n    }\n\n    if (entry.type === 'RECORD') {\n      entry.fields = processFields((entry.mode === 'REPEATED') ? value[0] : value)\n    }\n\n    return entry\n  })\n}\n\nmodule.exports = function Process (data) {\n  return processFields(data)\n}\n\n\n/***/ }),\n\n/***/ \"JeW5\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports.generic = __webpack_require__(\"NekS\")\nexports.mongoose = __webpack_require__(\"yhns\")\nexports.bigquery = __webpack_require__(\"IYS3\")\nexports.mysql = __webpack_require__(\"TQoY\")\nexports.json = __webpack_require__(\"TR5Q\")\nexports.clickhouse = __webpack_require__(\"Aw/l\")\n\n\n/***/ }),\n\n/***/ \"NekS\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// Modules\nvar Type = __webpack_require__(\"1fYD\")\nvar Utils = __webpack_require__(\"rL1p\")\n\nmodule.exports = function Process (object, output) {\n  output = output || {}\n\n  for (var key in object) {\n    var value = object[key]\n    var type = Type.string(value).toLowerCase()\n\n    if (type === 'undefined') {\n      type = 'null'\n    }\n\n    if (type === 'string' && Utils.isDate(value)) {\n      type = 'date'\n    }\n\n    if (type !== 'object') {\n      output[key] = {\n        type: type\n      }\n    } else {\n      output[key] = Process(object[key])\n      output[key].type = type\n    }\n  }\n\n  return output\n}\n\n/***/ }),\n\n/***/ \"TQoY\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// Modules\nvar Type = __webpack_require__(\"1fYD\")\nvar Utils = __webpack_require__(\"rL1p\")\n\n// Type Mapping\nvar types = {\n  boolean: 'BOOLEAN',\n  string: 'TEXT',\n  number: 'INT',\n  date: 'DATE',\n  timestamp: 'TIMESTAMP',\n  'regexp': 'TEXT',\n  'undefined': 'TEXT',\n  'null': 'TEXT'\n}\n\nvar lang = {\n  create: function (name) {\n    return ['CREATE TABLE ', name, ' ('].join('')\n  },\n\n  close: function () {\n    return ');'\n  },\n\n  id: function (name, value) {\n    return ['  ', name, '_id ', value, ','].join('')\n  },\n\n  property: function (name, value) {\n    return ['  ', name, ' ', value, ','].join('')\n  },\n\n  primary: function (id) {\n    return ['  PRIMARY KEY (', id, '),'].join('')\n  },\n\n  foreign: function (key1, table, key2) {\n    return ['  FOREIGN KEY (', key1, ') REFERENCES ', table, '(', key2, '),'].join('')\n  },\n}\n\nfunction processObject (obj, options) {\n  var name = options.tableName\n  var parent = options.parentTableName\n  var parentId = options.parentTableId\n  var parentIdType = options.parentTableIdType\n\n  // In-memory storage\n  var keys = Object.keys(obj)\n  var output = []\n  var tables = []\n\n  // Table variables\n  var id = null\n  var idType = 'string'\n\n  // Initialize Table\n  output.push(lang.create(name))\n\n  if (parent) {\n    output.push(lang.property(parent + '_' + parentId, types[parentIdType]))\n  }\n  \n  // Obtain ID\n  var nkey\n  for (var i = 0; i < keys.length; i++) {\n    if (keys[i].toLowerCase() === 'id' || keys[i].toLowerCase().indexOf('_id') > -1) {\n      nkey = keys[i]\n      obj[nkey] = obj[keys[i]]\n      keys[i] = nkey\n      id = keys[i]\n      idType = typeof obj[keys[i]]\n    }\n  }\n\n  if (!id) {\n    id = 'id'\n    idType = parentIdType || idType\n    output.push(lang.property(id, types[idType]))\n  }\n\n  // Create table properties\n  var key, value, type\n  for (var i = 0; i < keys.length; i++) {\n    key = keys[i]\n    value = obj[key]\n    type = value instanceof Date\n      ? 'date'\n      : Type.string(value).toLowerCase()\n\n    if (type !== 'undefined') {\n      type = Utils.isTimestamp(value) ? 'timestamp' : type\n    }\n\n    if (type === 'function') {\n      continue\n    }\n    \n    // pojo\n    if (type === 'object' && !value.length) {\n      tables.push('')\n      tables.push(processObject(value, {\n        parentTableName: name,\n        parentTableId: id,\n        parentTableIdType: idType,\n        tableName: name + '_' + key\n      }).join('\\n'))\n      continue\n    }\n\n    // array\n    if (type === 'object' || type === 'array') {\n      if (typeof value[0] === 'object') {\n        tables.push('')\n        tables.push(processObject(value[0], {\n          parentTableName: name,\n          parentTableId: id,\n          parentTableIdType: idType,\n          tableName: name + '_' + key\n        }).join('\\n'))\n        continue      \n      }\n      \n      tables.push('')\n      tables.push(processObject({ \n        value: typeof value[0]\n      }, {\n        parentTableName: name,\n        parentTableId: id,\n        parentTableIdType: idType,\n        tableName: name + '_' + key\n      }).join('\\n'))\n\n      continue\n    }\n\n    output.push(lang.property(key, types[type]))\n  }\n\n  // Handle table keys\n  output.push(lang.primary(id))\n  \n  if (parent) {\n    output.push(lang.foreign(parent + '_id', parent, parentId))\n  }\n\n  output[output.length - 1] = Utils.arrayLastItem(output)\n    .substr(0, Utils.arrayLastItem(output).length - 1)\n\n  output.push(lang.close())\n\n  return output.concat(tables)\n}\n\nmodule.exports = function Process (tableName, object) {\n  if (typeof tableName !== 'string') {\n    object = tableName\n    tableName = 'generic'\n  }\n\n  return processObject(object, {\n    tableName: tableName\n  }).join('\\n')\n}\n\n\n/***/ }),\n\n/***/ \"TR5Q\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// Modules\nvar Type = __webpack_require__(\"1fYD\")\n\n// Constants\nvar DRAFT = 'http://json-schema.org/draft-04/schema#'\n\nfunction getPropertyFormat(value) {\n  var type = Type.string(value).toLowerCase()\n\n  if (type === 'date') return 'date-time'\n\n  return null\n}\n\nfunction getPropertyType(value) {\n  var type = Type.string(value).toLowerCase()\n\n  if (type === 'date') return 'string'\n  if (type === 'regexp') return 'string'\n  if (type === 'function') return 'string'\n\n  return type\n}\n\nfunction getUniqueKeys(a, b, c) {\n  a = Object.keys(a)\n  b = Object.keys(b)\n  c = c || []\n\n  var value\n  var cIndex\n  var aIndex\n\n  for (var keyIndex = 0, keyLength = b.length; keyIndex < keyLength; keyIndex++) {\n    value = b[keyIndex]\n    aIndex = a.indexOf(value)\n    cIndex = c.indexOf(value)\n\n    if (aIndex === -1) {\n      if (cIndex !== -1) {\n        // Value is optional, it doesn't exist in A but exists in B(n)\n        c.splice(cIndex, 1)\n      }\n    } else if (cIndex === -1) {\n      // Value is required, it exists in both B and A, and is not yet present in C\n      c.push(value)\n    }\n  }\n\n  return c\n}\n\nfunction processArray(array, output, nested) {\n  var format\n  var oneOf\n  var type\n\n  if (nested && output) {\n    output = { items: output }\n  } else {\n    output = output || {}\n    output.type = getPropertyType(array)\n    output.items = output.items || {}\n    type = output.items.type || null\n  }\n\n  // Determine whether each item is different\n  for (var arrIndex = 0, arrLength = array.length; arrIndex < arrLength; arrIndex++) {\n    var elementType = getPropertyType(array[arrIndex])\n    var elementFormat = getPropertyFormat(array[arrIndex])\n\n    if (type && elementType !== type) {\n      output.items.oneOf = []\n      oneOf = true\n      break\n    } else {\n      type = elementType\n      format = elementFormat\n    }\n  }\n\n  // Setup type otherwise\n  if (!oneOf && type) {\n    output.items.type = type\n    if (format) {\n      output.items.format = format\n    }\n  } else if (oneOf && type !== 'object') {\n    output.items = {\n      oneOf: [{ type: type }],\n      required: output.items.required\n    }\n  }\n\n  // Process each item depending\n  if (typeof output.items.oneOf !== 'undefined' || type === 'object') {\n    for (var itemIndex = 0, itemLength = array.length; itemIndex < itemLength; itemIndex++) {\n      var value = array[itemIndex]\n      var itemType = getPropertyType(value)\n      var itemFormat = getPropertyFormat(value)\n      var arrayItem\n      if (itemType === 'object') {\n        if (output.items.properties) {\n          output.items.required = getUniqueKeys(output.items.properties, value, output.items.required)\n        }\n        arrayItem = processObject(value, oneOf ? {} : output.items.properties, true)\n      } else if (itemType === 'array') {\n        arrayItem = processArray(value, oneOf ? {} : output.items.properties, true)\n      } else {\n        arrayItem = {}\n        arrayItem.type = itemType\n        if (itemFormat) {\n          arrayItem.format = itemFormat\n        }\n      }\n      if (oneOf) {\n        var childType = Type.string(value).toLowerCase()\n        var tempObj = {}\n        if (!arrayItem.type && childType === 'object') {\n          tempObj.properties = arrayItem\n          tempObj.type = 'object'\n          arrayItem = tempObj\n        }\n        output.items.oneOf.push(arrayItem)\n      } else {\n        if (output.items.type !== 'object') {\n          continue;\n        }\n        output.items.properties = arrayItem\n      }\n    }\n  }\n  return nested ? output.items : output\n}\n\nfunction processObject(object, output, nested) {\n  if (nested && output) {\n    output = { properties: output }\n  } else {\n    output = output || {}\n    output.type = getPropertyType(object)\n    output.properties = output.properties || {}\n  }\n\n  for (var key in object) {\n    var value = object[key]\n    var type = getPropertyType(value)\n    var format = getPropertyFormat(value)\n\n    type = type === 'undefined' ? 'null' : type\n\n    if (type === 'object') {\n      output.properties[key] = processObject(value, output.properties[key])\n      continue\n    }\n\n    if (type === 'array') {\n      output.properties[key] = processArray(value, output.properties[key])\n      continue\n    }\n\n    if (output.properties[key]) {\n      var entry = output.properties[key]\n      var hasTypeArray = Array.isArray(entry.type)\n\n      // When an array already exists, we check the existing\n      // type array to see if it contains our current property\n      // type, if not, we add it to the array and continue\n      if (hasTypeArray && entry.type.indexOf(type) < 0) {\n        entry.type.push(type)\n      }\n\n      // When multiple fields of differing types occur,\n      // json schema states that the field must specify the\n      // primitive types the field allows in array format.\n      if (!hasTypeArray && entry.type !== type) {\n        entry.type = [entry.type, type]\n      }\n\n      continue\n    }\n\n    output.properties[key] = {}\n    output.properties[key].type = type\n\n    if (format) {\n      output.properties[key].format = format\n    }\n  }\n\n  return nested ? output.properties : output\n}\n\nmodule.exports = function Process (title, object) {\n  var processOutput\n  var output = {\n    $schema: DRAFT\n  }\n\n  // Determine title exists\n  if (typeof title !== 'string') {\n    object = title\n    title = undefined\n  } else {\n    output.title = title\n  }\n\n  // Set initial object type\n  output.type = Type.string(object).toLowerCase()\n\n  // Process object\n  if (output.type === 'object') {\n    processOutput = processObject(object)\n    output.type = processOutput.type\n    output.properties = processOutput.properties\n  }\n\n  if (output.type === 'array') {\n    processOutput = processArray(object)\n    output.type = processOutput.type\n    output.items = processOutput.items\n\n    if (output.title) {\n      output.items.title = output.title\n      output.title += ' Set'\n    }\n  }\n\n  // Output\n  return output\n}\n\n\n/***/ }),\n\n/***/ \"qZ3r\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/json-to-mongoose\",\n      function () {\n        return __webpack_require__(\"Aeof\");\n      }\n    ]);\n  \n\n/***/ }),\n\n/***/ \"rL1p\":\n/***/ (function(module, exports) {\n\nvar DATE_REGEXP = /\\d{4}-\\d{2}-\\d{2}/\n\nexports.isNumber = function (value) {\n\treturn (typeof value === 'number' || Object.prototype.toString.call(value) === '[object Number]')\n}\n\nexports.isDate = function (date) {\n  return ((new Date(date).toString() !== 'Invalid Date' && !isNaN(new Date(date))))\n}\n\nexports.isTimestamp = function (string) {\n  return string.length > 18 && !isNaN((new Date(string)).getTime())\n}\n\nexports.isDateString = function (string) {\n  return string.match(DATE_REGEXP)\n}\n\nexports.arrayLastItem = function (arr) {\n  return arr[arr.length - 1]\n}\n\n\n/***/ }),\n\n/***/ \"yhns\":\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(Buffer) {// Modules\nvar Type = __webpack_require__(\"1fYD\")\nvar Utils = __webpack_require__(\"rL1p\")\n\nfunction getNativeType (string) {\n  switch (string) {\n    case \"array\":\n      return 'Array'\n\n    case \"buffer\":\n      return 'Buffer'\n\n    case \"boolean\":\n      return 'Boolean'\n\n    case \"date\":\n      return 'Date'\n\n    case \"number\":\n      return 'Number'\n\n    case \"string\":\n      return 'String'\n\n    case \"objectid\":\n      return 'ObjectId'\n\n    case \"null\":\n    case \"undefined\":\n    case \"regexp\":\n    default:\n      return 'Mixed'\n  }\n}\n\nmodule.exports = function Process (object, output) {\n  var output = output || {}\n\n  for (var key in object) {\n    var value = object[key]\n    var originalType = null\n    var elementType = null\n    var type = null\n\n    if (value instanceof Buffer) {\n      type = 'buffer'\n    }\n\n    if (value != null && typeof value.toString !== 'undefined' && value.toString().match(/^[0-9a-fA-F]{24}$/)) {\n      type = 'objectid'\n    }\n\n    if (!type) {\n      type = Type.string(value).toLowerCase()\n    }\n\n    if (type === 'string' && Utils.isDate(value)) {\n      type = 'date'\n    }\n\n    if (type === 'object') {\n      output[key] = Process(object[key])\n    } else {\n      if (type === 'undefined') {\n        type = 'null'\n      }\n\n      if (type === 'array' && value.length) {\n        originalType = type\n        type = undefined\n\n        for (var index = 0, length = value.length; index < length; index++) {\n          elementType = Type.string(value[index]).toLowerCase()\n\n          if (type && elementType !== type) {\n            type = 'mixed'\n            break\n          } else {\n            type = elementType\n          }\n        }\n      }\n\n      if (originalType && originalType === 'array') {\n        output[key] = { type: [getNativeType(type)] }\n      } else {\n        output[key] = { type: getNativeType(type) }\n      }\n    }\n  }\n\n  return output\n}\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"HDXh\").Buffer))\n\n/***/ })\n\n},[[\"qZ3r\",1,2,0,3,4]]]);","inputSourceMap":{"version":3,"sources":["/Users/songxu/Develop/test/transform/node_modules/type-of-is/index.js","/Users/songxu/Develop/test/transform/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--5!/Users/songxu/Develop/test/transform/pages/json-to-mongoose.tsx","/Users/songxu/Develop/test/transform/node_modules/generate-schema/src/schemas/clickhouse.js","/Users/songxu/Develop/test/transform/node_modules/generate-schema/src/schemas/bigquery.js","/Users/songxu/Develop/test/transform/node_modules/generate-schema/src/index.js","/Users/songxu/Develop/test/transform/node_modules/generate-schema/src/schemas/generic.js","/Users/songxu/Develop/test/transform/node_modules/generate-schema/src/schemas/mysql.js","/Users/songxu/Develop/test/transform/node_modules/generate-schema/src/schemas/json.js","/Users/songxu/Develop/test/transform/node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?page=%2Fjson-to-mongoose&absolutePagePath=private-next-pages%2Fjson-to-mongoose.tsx!","/Users/songxu/Develop/test/transform/node_modules/generate-schema/src/utils.js","/Users/songxu/Develop/test/transform/node_modules/generate-schema/src/schemas/mongoose.js"],"names":[],"mappings":";;;;;;AAAA;AACA,MAAM,IAA0B;AAChC;AACA,GAAG,MAAM,EAEN;AACH,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,sBAAsB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,uBAAuB;;AAEvB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;;;;;;;AC3GD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgD;AACiF;AACe;AACtF;AACtB;AACL;AACE;AAClB;AACf,oBAAoB,yDAAW;AAC/B,gBAAgB,sKAAiB,eAAe,oIAAmB;AACnE;AACA,aAAa,oIAAmB;AAChC;AACA;AACA;AACA;AACA,8DAA8D,sDAAE;;AAEhE;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA,GAAG;AACH,sBAAsB,6DAAI,CAAC,2EAAe;AAC1C;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,C;;;;;;;ACrCA;AACA,WAAW,mBAAO,CAAC,MAAY;AAC/B,YAAY,mBAAO,CAAC,MAAU;;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA,+CAA+C;AAC/C,2FAA2F;AAC3F,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;;;;;;;AC9JA,YAAY,mBAAO,CAAC,MAAU;;AAE9B;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;;;;;;;AC7CA,kBAAkB,mBAAO,CAAC,MAAmB;AAC7C,mBAAmB,mBAAO,CAAC,MAAoB;AAC/C,mBAAmB,mBAAO,CAAC,MAAoB;AAC/C,gBAAgB,mBAAO,CAAC,MAAiB;AACzC,eAAe,mBAAO,CAAC,MAAgB;AACvC,qBAAqB,mBAAO,CAAC,MAAsB;;;;;;;;ACLnD;AACA,WAAW,mBAAO,CAAC,MAAY;AAC/B,YAAY,mBAAO,CAAC,MAAU;;AAE9B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,C;;;;;;;AC9BA;AACA,WAAW,mBAAO,CAAC,MAAY;AAC/B,YAAY,mBAAO,CAAC,MAAU;;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA,cAAc;AACd,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA,iC;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;;;;;;;ACpKA;AACA,WAAW,mBAAO,CAAC,MAAY;;AAE/B;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,8CAA8C,sBAAsB;AACpE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA,kDAAkD,sBAAsB;AACxE;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,eAAe,aAAa;AAC5B;AACA;AACA;;AAEA;AACA;AACA,sDAAsD,wBAAwB;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD,OAAO;AACP,kDAAkD;AAClD,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;ACrOA;AACA;AACA;AACA,eAAe,mBAAO,CAAC,MAAyC;AAChE;AACA;;;;;;;;ACNA,sBAAsB,EAAE,IAAI,EAAE,IAAI,EAAE;;AAEpC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;ACpBA;AACA,WAAW,mBAAO,CAAC,MAAY;AAC/B,YAAY,mBAAO,CAAC,MAAU;;AAE9B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,uGAAuG,GAAG;AAC1G;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA,kDAAkD,gBAAgB;AAClE;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;;AAEA;AACA,uBAAuB;AACvB,OAAO;AACP,uBAAuB;AACvB;AACA;AACA;;AAEA;AACA,C","file":"x","sourcesContent":["(function (factory) {\n  if (typeof exports == 'object') {\n    module.exports = factory();\n  } else if ((typeof define == 'function') && define.amd) {\n    define(factory);\n  }\n}(function () {\n\n  var isBuiltIn = (function () {\n    var built_ins = [\n      Object,\n      Function,\n      Array,\n      String,\n      Boolean,\n      Number,\n      Date,\n      RegExp,\n      Error\n    ];\n    var built_ins_length = built_ins.length;\n\n    return function (_constructor) {\n      for (var i = 0; i < built_ins_length; i++) {\n        if (built_ins[i] === _constructor) {\n          return true;\n        }\n      }\n      return false;\n    };\n  })();\n\n  var stringType = (function () {\n    var _toString = ({}).toString;\n\n    return function (obj) {\n      // [object Blah] -> Blah\n      var stype = _toString.call(obj).slice(8, -1);\n\n      if ((obj === null) || (obj === undefined)) {\n        return stype.toLowerCase();\n      }\n\n      var ctype = of(obj);\n\n      if (ctype && !isBuiltIn(ctype)) {\n        return ctype.name;\n      } else {\n        return stype;\n      }\n    };\n  })();\n\n  function of (obj) {\n    if ((obj === null) || (obj === undefined)) {\n      return obj;\n    } else {\n      return obj.constructor;\n    }\n  }\n\n  function is (obj, test) {\n    var typer = (of(test) === String) ? stringType : of;\n    return (typer(obj) === test);\n  }\n\n  function instance (obj, test) {\n    return (obj instanceof test);\n  }\n\n  function extension (_Extension, _Base) {\n    return instance(_Extension.prototype, _Base);\n  }\n\n  function any (obj, tests) {\n    if (!is(tests, Array)) {\n      throw (\"Second argument to .any() should be array\")\n    }\n    for (var i = 0; i < tests.length; i++) {\n      var test = tests[i];\n      if (is(obj, test)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  var exports = function (obj, type) {\n    if (arguments.length == 1) {\n      return of(obj);\n    } else {\n      if (is(type, Array)) {\n        return any(obj, type);\n      } else {\n        return is(obj, type);\n      }\n    }\n  }\n\n  exports.instance  = instance;\n  exports.string    = stringType;\n  exports.of        = of;\n  exports.is        = is;\n  exports.any       = any;\n  exports.extension = extension;\n  return exports;\n\n}));\n","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"/Users/songxu/Develop/test/transform/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/songxu/Develop/test/transform/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport ConversionPanel from \"@components/ConversionPanel\";\nimport { useCallback } from \"react\";\nimport * as React from \"react\";\nimport gs from \"generate-schema\";\nexport default function JsonToMongoose() {\n  var transformer = useCallback( /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref) {\n      var value;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              value = _ref.value;\n              return _context.abrupt(\"return\", JSON.stringify(gs.mongoose(JSON.parse(value)), null, 2));\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }(), []);\n  return /*#__PURE__*/_jsx(ConversionPanel, {\n    transformer: transformer,\n    editorTitle: \"JSON\",\n    editorLanguage: \"json\",\n    resultTitle: \"Mongoose Schema\",\n    resultLanguage: \"json\"\n  });\n}","// Modules\nvar Type = require('type-of-is')\nvar Utils = require('../utils')\n\n// Type Mapping for Clickhouse\nvar types = {\n  boolean: 'String',\n  string: 'String',\n  number: 'Int32',\n  date: 'Date',\n  timestamp: 'DateTime',\n  object: 'Nested',\n  'regexp': 'String',\n  'undefined': 'String',\n  'null': 'String'\n}\n\nvar lang = {\n  create: function (name) {\n    return ['CREATE TABLE ', name, ' ('].join('')\n  },\n\n  close: function (id, dateField) {\n    if (!dateField) return [') ENGINE = Memory;'].join('')\n    else return [') ENGINE = MergeTree(', dateField, ', (', id, ', ', dateField, '), 8192);'].join('')\n  },\n\n  id: function (name, value) {\n    return ['  ', name, '_id ', value, ','].join('')\n  },\n\n  property: function (name, value) {\n    return ['  ', name, ' ', value, ','].join('')\n  },\n\n}\n\nfunction processObject (obj, options, dateField) {\n  var name = options.tableName\n  var parent = options.parentTableName\n  var parentId = options.parentTableId\n  var parentIdType = options.parentTableIdType\n\n  // In-memory storage\n  var keys = Object.keys(obj)\n  var output = []\n  var tables = []\n\n  // Table variables\n  var id = null\n  var idType = 'string'\n\n  // Initialize Table\n  output.push(lang.create(name))\n\n  if (parent) {\n    output.push(lang.property(parent + '_' + parentId, types[parentIdType]))\n  }\n\n  // Obtain ID\n  var nkey\n  for (var i = 0; i < keys.length; i++) {\n    if (keys[i].toLowerCase() === 'id' || keys[i].toLowerCase().indexOf('_id') > -1) {\n      nkey = keys[i]\n      obj[nkey] = obj[keys[i]]\n      keys[i] = nkey\n      id = keys[i]\n      idType = typeof obj[keys[i]]\n    }\n  }\n\n  if (!id) {\n    id = 'id'\n    idType = parentIdType || idType\n    output.push(lang.property(id, types[idType]))\n  }\n\n  // Create table properties\n  var key, value, type\n  for (var i = 0; i < keys.length; i++) {\n    key = keys[i]\n    value = obj[key]\n    type = value instanceof Date\n      ? 'date'\n      : Type.string(value).toLowerCase()\n\n    if (type == 'date' && !dateField) {\n\tvar dateField = key;\n    }\n\n    if (type !== 'undefined') {\n      type = Utils.isTimestamp(value) ? 'timestamp' : type\n    }\n\n    if (type === 'function') {\n      continue\n    }\n\n    // pojo\n    if (type === 'object' && !value.length) {\n      tables.push('')\n      tables.push(processObject(value, {\n        parentTableName: name,\n        parentTableId: id,\n        parentTableIdType: idType,\n        tableName: name + '_' + key\n      }).join(''))\n      continue\n    }\n\n    // array\n    if (type === 'object' || type === 'array') {\n      if (typeof value[0] === 'object') {\n        tables.push('')\n        tables.push(processObject(value[0], {\n          parentTableName: name,\n          parentTableId: id,\n          parentTableIdType: idType,\n          tableName: name + '_' + key\n        }).join(''))\n        continue\n      }\n\n      tables.push('')\n      tables.push(processObject({\n        value: typeof value[0]\n      }, {\n        parentTableName: name,\n        parentTableId: id,\n        parentTableIdType: idType,\n        tableName: name + '_' + key\n      }).join(''))\n\n      continue\n    }\n\n    output.push(lang.property(key, types[type]))\n  }\n\n  output[output.length - 1] = Utils.arrayLastItem(output)\n    .substr(0, Utils.arrayLastItem(output).length - 1)\n\n  output.push(lang.close(id, dateField))\n\n  return output.concat(tables)\n}\n\nmodule.exports = function Process (tableName, object, dateField) {\n  if (typeof tableName !== 'string') {\n    object = tableName\n    tableName = 'generic'\n  }\n  if (!dateField)\n    dateField = null\n\n  return processObject(object, {\n    tableName: tableName\n  }, dateField).join('')\n}\n","var utils = require('../utils')\n\nfunction getPropertyMode (value) {\n  return Array.isArray(value) ? 'REPEATED' : 'NULLABLE'\n}\n\nfunction getPropertyType (value) {\n  if (Array.isArray(value)) {\n    return getPropertyType(value[0])\n  }\n\n  if (value instanceof Date) return 'TIMESTAMP'\n  if (typeof value === 'object') return 'RECORD'\n  if (typeof value === 'boolean') return 'BOOLEAN'\n  if (typeof value === 'string') {\n    if (utils.isDateString(value)) return 'DATE'\n    if (utils.isTimestamp(value)) return 'TIMESTAMP'\n  }\n\n  if (!isNaN(value)) {\n    return Number.isInteger(parseFloat(value)) ? 'INTEGER' : 'FLOAT'\n  }\n\n  return 'STRING'\n}\n\nfunction processFields (data) {\n  return Object.keys(data).map(function (key) {\n    var value = data[key]\n    var entry = {\n      name: key,\n      type: getPropertyType(data[key]),\n      mode: getPropertyMode(data[key])\n    }\n\n    if (entry.type === 'RECORD') {\n      entry.fields = processFields((entry.mode === 'REPEATED') ? value[0] : value)\n    }\n\n    return entry\n  })\n}\n\nmodule.exports = function Process (data) {\n  return processFields(data)\n}\n","exports.generic = require('./schemas/generic')\nexports.mongoose = require('./schemas/mongoose')\nexports.bigquery = require('./schemas/bigquery')\nexports.mysql = require('./schemas/mysql')\nexports.json = require('./schemas/json')\nexports.clickhouse = require('./schemas/clickhouse')\n","// Modules\nvar Type = require('type-of-is')\nvar Utils = require('../utils')\n\nmodule.exports = function Process (object, output) {\n  output = output || {}\n\n  for (var key in object) {\n    var value = object[key]\n    var type = Type.string(value).toLowerCase()\n\n    if (type === 'undefined') {\n      type = 'null'\n    }\n\n    if (type === 'string' && Utils.isDate(value)) {\n      type = 'date'\n    }\n\n    if (type !== 'object') {\n      output[key] = {\n        type: type\n      }\n    } else {\n      output[key] = Process(object[key])\n      output[key].type = type\n    }\n  }\n\n  return output\n}","// Modules\nvar Type = require('type-of-is')\nvar Utils = require('../utils')\n\n// Type Mapping\nvar types = {\n  boolean: 'BOOLEAN',\n  string: 'TEXT',\n  number: 'INT',\n  date: 'DATE',\n  timestamp: 'TIMESTAMP',\n  'regexp': 'TEXT',\n  'undefined': 'TEXT',\n  'null': 'TEXT'\n}\n\nvar lang = {\n  create: function (name) {\n    return ['CREATE TABLE ', name, ' ('].join('')\n  },\n\n  close: function () {\n    return ');'\n  },\n\n  id: function (name, value) {\n    return ['  ', name, '_id ', value, ','].join('')\n  },\n\n  property: function (name, value) {\n    return ['  ', name, ' ', value, ','].join('')\n  },\n\n  primary: function (id) {\n    return ['  PRIMARY KEY (', id, '),'].join('')\n  },\n\n  foreign: function (key1, table, key2) {\n    return ['  FOREIGN KEY (', key1, ') REFERENCES ', table, '(', key2, '),'].join('')\n  },\n}\n\nfunction processObject (obj, options) {\n  var name = options.tableName\n  var parent = options.parentTableName\n  var parentId = options.parentTableId\n  var parentIdType = options.parentTableIdType\n\n  // In-memory storage\n  var keys = Object.keys(obj)\n  var output = []\n  var tables = []\n\n  // Table variables\n  var id = null\n  var idType = 'string'\n\n  // Initialize Table\n  output.push(lang.create(name))\n\n  if (parent) {\n    output.push(lang.property(parent + '_' + parentId, types[parentIdType]))\n  }\n  \n  // Obtain ID\n  var nkey\n  for (var i = 0; i < keys.length; i++) {\n    if (keys[i].toLowerCase() === 'id' || keys[i].toLowerCase().indexOf('_id') > -1) {\n      nkey = keys[i]\n      obj[nkey] = obj[keys[i]]\n      keys[i] = nkey\n      id = keys[i]\n      idType = typeof obj[keys[i]]\n    }\n  }\n\n  if (!id) {\n    id = 'id'\n    idType = parentIdType || idType\n    output.push(lang.property(id, types[idType]))\n  }\n\n  // Create table properties\n  var key, value, type\n  for (var i = 0; i < keys.length; i++) {\n    key = keys[i]\n    value = obj[key]\n    type = value instanceof Date\n      ? 'date'\n      : Type.string(value).toLowerCase()\n\n    if (type !== 'undefined') {\n      type = Utils.isTimestamp(value) ? 'timestamp' : type\n    }\n\n    if (type === 'function') {\n      continue\n    }\n    \n    // pojo\n    if (type === 'object' && !value.length) {\n      tables.push('')\n      tables.push(processObject(value, {\n        parentTableName: name,\n        parentTableId: id,\n        parentTableIdType: idType,\n        tableName: name + '_' + key\n      }).join('\\n'))\n      continue\n    }\n\n    // array\n    if (type === 'object' || type === 'array') {\n      if (typeof value[0] === 'object') {\n        tables.push('')\n        tables.push(processObject(value[0], {\n          parentTableName: name,\n          parentTableId: id,\n          parentTableIdType: idType,\n          tableName: name + '_' + key\n        }).join('\\n'))\n        continue      \n      }\n      \n      tables.push('')\n      tables.push(processObject({ \n        value: typeof value[0]\n      }, {\n        parentTableName: name,\n        parentTableId: id,\n        parentTableIdType: idType,\n        tableName: name + '_' + key\n      }).join('\\n'))\n\n      continue\n    }\n\n    output.push(lang.property(key, types[type]))\n  }\n\n  // Handle table keys\n  output.push(lang.primary(id))\n  \n  if (parent) {\n    output.push(lang.foreign(parent + '_id', parent, parentId))\n  }\n\n  output[output.length - 1] = Utils.arrayLastItem(output)\n    .substr(0, Utils.arrayLastItem(output).length - 1)\n\n  output.push(lang.close())\n\n  return output.concat(tables)\n}\n\nmodule.exports = function Process (tableName, object) {\n  if (typeof tableName !== 'string') {\n    object = tableName\n    tableName = 'generic'\n  }\n\n  return processObject(object, {\n    tableName: tableName\n  }).join('\\n')\n}\n","// Modules\nvar Type = require('type-of-is')\n\n// Constants\nvar DRAFT = 'http://json-schema.org/draft-04/schema#'\n\nfunction getPropertyFormat(value) {\n  var type = Type.string(value).toLowerCase()\n\n  if (type === 'date') return 'date-time'\n\n  return null\n}\n\nfunction getPropertyType(value) {\n  var type = Type.string(value).toLowerCase()\n\n  if (type === 'date') return 'string'\n  if (type === 'regexp') return 'string'\n  if (type === 'function') return 'string'\n\n  return type\n}\n\nfunction getUniqueKeys(a, b, c) {\n  a = Object.keys(a)\n  b = Object.keys(b)\n  c = c || []\n\n  var value\n  var cIndex\n  var aIndex\n\n  for (var keyIndex = 0, keyLength = b.length; keyIndex < keyLength; keyIndex++) {\n    value = b[keyIndex]\n    aIndex = a.indexOf(value)\n    cIndex = c.indexOf(value)\n\n    if (aIndex === -1) {\n      if (cIndex !== -1) {\n        // Value is optional, it doesn't exist in A but exists in B(n)\n        c.splice(cIndex, 1)\n      }\n    } else if (cIndex === -1) {\n      // Value is required, it exists in both B and A, and is not yet present in C\n      c.push(value)\n    }\n  }\n\n  return c\n}\n\nfunction processArray(array, output, nested) {\n  var format\n  var oneOf\n  var type\n\n  if (nested && output) {\n    output = { items: output }\n  } else {\n    output = output || {}\n    output.type = getPropertyType(array)\n    output.items = output.items || {}\n    type = output.items.type || null\n  }\n\n  // Determine whether each item is different\n  for (var arrIndex = 0, arrLength = array.length; arrIndex < arrLength; arrIndex++) {\n    var elementType = getPropertyType(array[arrIndex])\n    var elementFormat = getPropertyFormat(array[arrIndex])\n\n    if (type && elementType !== type) {\n      output.items.oneOf = []\n      oneOf = true\n      break\n    } else {\n      type = elementType\n      format = elementFormat\n    }\n  }\n\n  // Setup type otherwise\n  if (!oneOf && type) {\n    output.items.type = type\n    if (format) {\n      output.items.format = format\n    }\n  } else if (oneOf && type !== 'object') {\n    output.items = {\n      oneOf: [{ type: type }],\n      required: output.items.required\n    }\n  }\n\n  // Process each item depending\n  if (typeof output.items.oneOf !== 'undefined' || type === 'object') {\n    for (var itemIndex = 0, itemLength = array.length; itemIndex < itemLength; itemIndex++) {\n      var value = array[itemIndex]\n      var itemType = getPropertyType(value)\n      var itemFormat = getPropertyFormat(value)\n      var arrayItem\n      if (itemType === 'object') {\n        if (output.items.properties) {\n          output.items.required = getUniqueKeys(output.items.properties, value, output.items.required)\n        }\n        arrayItem = processObject(value, oneOf ? {} : output.items.properties, true)\n      } else if (itemType === 'array') {\n        arrayItem = processArray(value, oneOf ? {} : output.items.properties, true)\n      } else {\n        arrayItem = {}\n        arrayItem.type = itemType\n        if (itemFormat) {\n          arrayItem.format = itemFormat\n        }\n      }\n      if (oneOf) {\n        var childType = Type.string(value).toLowerCase()\n        var tempObj = {}\n        if (!arrayItem.type && childType === 'object') {\n          tempObj.properties = arrayItem\n          tempObj.type = 'object'\n          arrayItem = tempObj\n        }\n        output.items.oneOf.push(arrayItem)\n      } else {\n        if (output.items.type !== 'object') {\n          continue;\n        }\n        output.items.properties = arrayItem\n      }\n    }\n  }\n  return nested ? output.items : output\n}\n\nfunction processObject(object, output, nested) {\n  if (nested && output) {\n    output = { properties: output }\n  } else {\n    output = output || {}\n    output.type = getPropertyType(object)\n    output.properties = output.properties || {}\n  }\n\n  for (var key in object) {\n    var value = object[key]\n    var type = getPropertyType(value)\n    var format = getPropertyFormat(value)\n\n    type = type === 'undefined' ? 'null' : type\n\n    if (type === 'object') {\n      output.properties[key] = processObject(value, output.properties[key])\n      continue\n    }\n\n    if (type === 'array') {\n      output.properties[key] = processArray(value, output.properties[key])\n      continue\n    }\n\n    if (output.properties[key]) {\n      var entry = output.properties[key]\n      var hasTypeArray = Array.isArray(entry.type)\n\n      // When an array already exists, we check the existing\n      // type array to see if it contains our current property\n      // type, if not, we add it to the array and continue\n      if (hasTypeArray && entry.type.indexOf(type) < 0) {\n        entry.type.push(type)\n      }\n\n      // When multiple fields of differing types occur,\n      // json schema states that the field must specify the\n      // primitive types the field allows in array format.\n      if (!hasTypeArray && entry.type !== type) {\n        entry.type = [entry.type, type]\n      }\n\n      continue\n    }\n\n    output.properties[key] = {}\n    output.properties[key].type = type\n\n    if (format) {\n      output.properties[key].format = format\n    }\n  }\n\n  return nested ? output.properties : output\n}\n\nmodule.exports = function Process (title, object) {\n  var processOutput\n  var output = {\n    $schema: DRAFT\n  }\n\n  // Determine title exists\n  if (typeof title !== 'string') {\n    object = title\n    title = undefined\n  } else {\n    output.title = title\n  }\n\n  // Set initial object type\n  output.type = Type.string(object).toLowerCase()\n\n  // Process object\n  if (output.type === 'object') {\n    processOutput = processObject(object)\n    output.type = processOutput.type\n    output.properties = processOutput.properties\n  }\n\n  if (output.type === 'array') {\n    processOutput = processArray(object)\n    output.type = processOutput.type\n    output.items = processOutput.items\n\n    if (output.title) {\n      output.items.title = output.title\n      output.title += ' Set'\n    }\n  }\n\n  // Output\n  return output\n}\n","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/json-to-mongoose\",\n      function () {\n        return require(\"private-next-pages/json-to-mongoose.tsx\");\n      }\n    ]);\n  ","var DATE_REGEXP = /\\d{4}-\\d{2}-\\d{2}/\n\nexports.isNumber = function (value) {\n\treturn (typeof value === 'number' || Object.prototype.toString.call(value) === '[object Number]')\n}\n\nexports.isDate = function (date) {\n  return ((new Date(date).toString() !== 'Invalid Date' && !isNaN(new Date(date))))\n}\n\nexports.isTimestamp = function (string) {\n  return string.length > 18 && !isNaN((new Date(string)).getTime())\n}\n\nexports.isDateString = function (string) {\n  return string.match(DATE_REGEXP)\n}\n\nexports.arrayLastItem = function (arr) {\n  return arr[arr.length - 1]\n}\n","// Modules\nvar Type = require('type-of-is')\nvar Utils = require('../utils')\n\nfunction getNativeType (string) {\n  switch (string) {\n    case \"array\":\n      return 'Array'\n\n    case \"buffer\":\n      return 'Buffer'\n\n    case \"boolean\":\n      return 'Boolean'\n\n    case \"date\":\n      return 'Date'\n\n    case \"number\":\n      return 'Number'\n\n    case \"string\":\n      return 'String'\n\n    case \"objectid\":\n      return 'ObjectId'\n\n    case \"null\":\n    case \"undefined\":\n    case \"regexp\":\n    default:\n      return 'Mixed'\n  }\n}\n\nmodule.exports = function Process (object, output) {\n  var output = output || {}\n\n  for (var key in object) {\n    var value = object[key]\n    var originalType = null\n    var elementType = null\n    var type = null\n\n    if (value instanceof Buffer) {\n      type = 'buffer'\n    }\n\n    if (value != null && typeof value.toString !== 'undefined' && value.toString().match(/^[0-9a-fA-F]{24}$/)) {\n      type = 'objectid'\n    }\n\n    if (!type) {\n      type = Type.string(value).toLowerCase()\n    }\n\n    if (type === 'string' && Utils.isDate(value)) {\n      type = 'date'\n    }\n\n    if (type === 'object') {\n      output[key] = Process(object[key])\n    } else {\n      if (type === 'undefined') {\n        type = 'null'\n      }\n\n      if (type === 'array' && value.length) {\n        originalType = type\n        type = undefined\n\n        for (var index = 0, length = value.length; index < length; index++) {\n          elementType = Type.string(value[index]).toLowerCase()\n\n          if (type && elementType !== type) {\n            type = 'mixed'\n            break\n          } else {\n            type = elementType\n          }\n        }\n      }\n\n      if (originalType && originalType === 'array') {\n        output[key] = { type: [getNativeType(type)] }\n      } else {\n        output[key] = { type: getNativeType(type) }\n      }\n    }\n  }\n\n  return output\n}"]}}